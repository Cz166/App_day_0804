<ns0:test-suite xmlns:ns0="urn:model.allure.qatools.yandex.ru" start="1533564408006" stop="1533564582826">
  <name>test_use_case.test_use_case_register</name>
  <labels/>
  <test-cases>
    <test-case start="1533564408006" status="failed" stop="1533564566718">
      <name>Test_Login.test_register[test_login_001-13198690728-aaa123456-\u8f93\u5165\u8d26\u53f7-\u8f93\u5165\u5bc6\u7801-\u6210\u529f-\u767b\u5f55\u6210\u529f-1319869****-1-\u9000\u51fa\u6210\u529f-\u9000\u51fa-\u6211\u7684\u8ba2\u5355]</name>
      <failure>
        <message>AssertionError: assert False</message>
        <stack-trace>self = &lt;test_use_case.test_use_case_register.Test_Login object at 0x043DF530&gt;
case_name = 'test_login_001', accounts = '13198690728', password = 'aaa123456'
category_1 = '输入账号', category_2 = '输入密码', get_news = '成功', try_accounts = '登录成功'
dim = '1319869****', tag = 1, quit_succeed = '退出成功', get_quit = '退出'
close = '我的订单'

    @allure.step(title='登录功能的正确性验证')
    @pytest.mark.parametrize('case_name,accounts,password,category_1,category_2,get_news,try_accounts,dim,tag,quit_succeed,get_quit,close',get_data())
    def test_register(self, case_name, accounts, password, category_1, category_2, get_news, try_accounts,dim, tag, quit_succeed,get_quit,close):
        allure.attach("用例编号", "{}".format(case_name))
        # 点击马上登录按钮
        self.Dv.return_register_page().clcik_immediately_register()
        # 输入账号、密码
        self.Dv.return_register_page().send_keys_accpounts_password_1(accounts, password, category_1, category_2)
        # 点击登录按钮
        self.Dv.return_register_page().click_register_confirm()
        # 断言
        if tag:
            try:
                # 获取登陆成功toast
                suc_msg = self.Dv.return_register_page().try_find_toast(get_news)
                # 断言账户是否在页面
                self.Dv.return_register_page().try_except_dim_phone(dim)
                # 上划屏幕
                self.Dv.return_register_page().up_slide()
                # 点击退出当前账号
&gt;               self.Dv.return_register_page().click_quit_accounts()

test_use_case\test_use_case_register.py:45: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _

a = (&lt;Page.operation_method.method object at 0x043CD610&gt;,), kw = {}

    @wraps(func)
    def impl(*a, **kw):
        with StepContext(self.allure, self.title.format(*a, **kw)):
&gt;           return func(*a, **kw)

c:\users\联想\appdata\local\programs\python\python36-32\lib\site-packages\allure\common.py:62: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _

self = &lt;Page.operation_method.method object at 0x043CD610&gt;

    @allure.step(title='点击退出当前账号按钮')
    def click_quit_accounts(self):
&gt;       self.click_element(Page.quit_accounts)

Page\operation_method.py:99: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _

a = (&lt;Page.operation_method.method object at 0x043CD610&gt;, ('id', 'com.huashidai.cl.lovegoods.lovegoods:id/fm_ll_out_login'))
kw = {}

    @wraps(func)
    def impl(*a, **kw):
        with StepContext(self.allure, self.title.format(*a, **kw)):
&gt;           return func(*a, **kw)

c:\users\联想\appdata\local\programs\python\python36-32\lib\site-packages\allure\common.py:62: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _

self = &lt;Page.operation_method.method object at 0x043CD610&gt;
loc = ('id', 'com.huashidai.cl.lovegoods.lovegoods:id/fm_ll_out_login')

    @allure.step(title='点击操作')
    def click_element(self, loc):
&gt;       self.find_element(loc).click()

Base\Base.py:19: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _

self = &lt;Page.operation_method.method object at 0x043CD610&gt;
loc = ('id', 'com.huashidai.cl.lovegoods.lovegoods:id/fm_ll_out_login')
timeout = 15, poll = 1.0

    def find_element(self, loc, timeout=15, poll=1.0):
&gt;       return WebDriverWait(self.driver, timeout, poll).until(lambda x: x.find_element(*loc))

Base\Base.py:12: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _

self = &lt;selenium.webdriver.support.wait.WebDriverWait (session="1f6decea-1071-4190-862e-8d015db1d52f")&gt;
method = &lt;function Base.find_element.&lt;locals&gt;.&lt;lambda&gt; at 0x043D8BB8&gt;
message = ''

    def until(self, method, message=''):
        """Calls the method provided with the driver as an argument until the \
            return value is not False."""
        screen = None
        stacktrace = None
    
        end_time = time.time() + self._timeout
        while True:
            try:
                value = method(self._driver)
                if value:
                    return value
            except self._ignored_exceptions as exc:
                screen = getattr(exc, 'screen', None)
                stacktrace = getattr(exc, 'stacktrace', None)
            time.sleep(self._poll)
            if time.time() &gt; end_time:
                break
&gt;       raise TimeoutException(message, screen, stacktrace)
E       selenium.common.exceptions.TimeoutException: Message:

c:\users\联想\appdata\local\programs\python\python36-32\lib\site-packages\selenium\webdriver\support\wait.py:80: TimeoutException

During handling of the above exception, another exception occurred:

self = &lt;test_use_case.test_use_case_register.Test_Login object at 0x043DF530&gt;
case_name = 'test_login_001', accounts = '13198690728', password = 'aaa123456'
category_1 = '输入账号', category_2 = '输入密码', get_news = '成功', try_accounts = '登录成功'
dim = '1319869****', tag = 1, quit_succeed = '退出成功', get_quit = '退出'
close = '我的订单'

    @allure.step(title='登录功能的正确性验证')
    @pytest.mark.parametrize('case_name,accounts,password,category_1,category_2,get_news,try_accounts,dim,tag,quit_succeed,get_quit,close',get_data())
    def test_register(self, case_name, accounts, password, category_1, category_2, get_news, try_accounts,dim, tag, quit_succeed,get_quit,close):
        allure.attach("用例编号", "{}".format(case_name))
        # 点击马上登录按钮
        self.Dv.return_register_page().clcik_immediately_register()
        # 输入账号、密码
        self.Dv.return_register_page().send_keys_accpounts_password_1(accounts, password, category_1, category_2)
        # 点击登录按钮
        self.Dv.return_register_page().click_register_confirm()
        # 断言
        if tag:
            try:
                # 获取登陆成功toast
                suc_msg = self.Dv.return_register_page().try_find_toast(get_news)
                # 断言账户是否在页面
                self.Dv.return_register_page().try_except_dim_phone(dim)
                # 上划屏幕
                self.Dv.return_register_page().up_slide()
                # 点击退出当前账号
                self.Dv.return_register_page().click_quit_accounts()
                # 点击确定按钮
                self.Dv.return_register_page().click_confirm_quit()
                # 获取退出成功toast
                quit_msg = self.Dv.return_register_page().try_find_toast(get_quit)
                # 下滑屏幕
                self.Dv.return_register_page().below_slide()
                # 断言登录成功并截图
                assert try_accounts == suc_msg, self.Dv.return_register_page().screenshot()
                # 断言退出成功并截图
                assert quit_succeed == quit_msg,self.Dv.return_register_page().screenshot()
            except Exception as E:
                # 截图
                self.Dv.return_register_page().screenshot()
                # 返回我的页面
                self.Dv.return_register_page().login_close_page()
                # 断言页面是否成功跳转
                self.Dv.return_register_page().try_except_dim(close)
&gt;               assert False
E               assert False

test_use_case\test_use_case_register.py:63: AssertionError</stack-trace>
      </failure>
      <attachments/>
      <labels>
        <label name="severity" value="normal"/>
        <label name="thread" value="15184-MainThread"/>
        <label name="host" value="DESKTOP-2H2UE1B"/>
        <label name="framework" value="pytest"/>
        <label name="language" value="cpython3"/>
      </labels>
      <steps>
        <step start="1533564480550" status="passed" stop="1533564483128">
          <name>向右滑动</name>
          <title>向右滑动</title>
          <attachments/>
          <steps/>
        </step>
        <step start="1533564483128" status="passed" stop="1533564485506">
          <name>向右滑动</name>
          <title>向右滑动</title>
          <attachments/>
          <steps/>
        </step>
        <step start="1533564485506" status="passed" stop="1533564487886">
          <name>向右滑动</name>
          <title>向右滑动</title>
          <attachments/>
          <steps/>
        </step>
        <step start="1533564487886" status="passed" stop="1533564488015">
          <name>点击启动页面_教程_进入爱优品按钮</name>
          <title>点击启动页面_教程_进入爱优品按钮</title>
          <attachments/>
          <steps>
            <step start="1533564487886" status="passed" stop="1533564488015">
              <name>点击操作</name>
              <title>点击操作</title>
              <attachments/>
              <steps/>
            </step>
          </steps>
        </step>
        <step start="1533564488015" status="passed" stop="1533564491607">
          <name>点击始终允许</name>
          <title>点击始终允许</title>
          <attachments/>
          <steps>
            <step start="1533564488015" status="passed" stop="1533564491607">
              <name>点击操作</name>
              <title>点击操作</title>
              <attachments/>
              <steps/>
            </step>
          </steps>
        </step>
        <step start="1533564491607" status="passed" stop="1533564493170">
          <name>点击我的按钮</name>
          <title>点击我的按钮</title>
          <attachments/>
          <steps>
            <step start="1533564491607" status="passed" stop="1533564493170">
              <name>点击操作</name>
              <title>点击操作</title>
              <attachments/>
              <steps/>
            </step>
          </steps>
        </step>
        <step start="1533564493170" status="failed" stop="1533564566480">
          <name>登录功能的正确性验证</name>
          <title>登录功能的正确性验证</title>
          <attachments>
            <attachment source="3e300798-73a2-4159-ab6e-197fca1b6f18-attachment.txt" title="用例编号" type="text/plain"/>
            <attachment source="f41234d7-21bf-4f36-bfe2-05c17de4ed11-attachment.txt" title="关闭状态:" type="text/plain"/>
            <attachment source="25a38ddf-b085-4295-ba28-6128e5f7e058-attachment.txt" title="关闭失败原因:" type="text/plain"/>
          </attachments>
          <steps>
            <step start="1533564493170" status="passed" stop="1533564493930">
              <name>点击马上登录</name>
              <title>点击马上登录</title>
              <attachments/>
              <steps>
                <step start="1533564493170" status="passed" stop="1533564493930">
                  <name>点击操作</name>
                  <title>点击操作</title>
                  <attachments/>
                  <steps/>
                </step>
              </steps>
            </step>
            <step start="1533564493930" status="passed" stop="1533564498656">
              <name>输入账号、输入密码</name>
              <title>输入账号、输入密码</title>
              <attachments/>
              <steps>
                <step start="1533564493930" status="passed" stop="1533564497076">
                  <name>输入操作</name>
                  <title>输入操作</title>
                  <attachments>
                    <attachment source="04428a36-6d5f-4adc-af63-19f638fd361d-attachment.txt" title="输入账号" type="text/plain"/>
                  </attachments>
                  <steps/>
                </step>
                <step start="1533564497076" status="passed" stop="1533564498656">
                  <name>输入操作</name>
                  <title>输入操作</title>
                  <attachments>
                    <attachment source="c8936acf-67f0-4ccd-8fc0-a0ef6f231e6e-attachment.txt" title="输入密码" type="text/plain"/>
                  </attachments>
                  <steps/>
                </step>
              </steps>
            </step>
            <step start="1533564498656" status="passed" stop="1533564499199">
              <name>点击登录按钮</name>
              <title>点击登录按钮</title>
              <attachments/>
              <steps>
                <step start="1533564498656" status="passed" stop="1533564499199">
                  <name>点击操作</name>
                  <title>点击操作</title>
                  <attachments/>
                  <steps/>
                </step>
              </steps>
            </step>
            <step start="1533564499199" status="passed" stop="1533564514516">
              <name>获取toast消息并断言</name>
              <title>获取toast消息并断言</title>
              <attachments>
                <attachment source="f2315919-3374-4b5e-9de4-0e8a6ddfad66-attachment.txt" title="结果" type="text/plain"/>
              </attachments>
              <steps/>
            </step>
            <step start="1533564514516" status="passed" stop="1533564523250">
              <name>断言是否登录成功</name>
              <title>断言是否登录成功</title>
              <attachments>
                <attachment source="807eedf3-62e1-4ced-a339-64d2eaaabbb2-attachment.txt" title="状态" type="text/plain"/>
                <attachment source="07fe1dd1-98c1-4abf-a468-972921980506-attachment.txt" title="页面元素_(text_list)" type="text/plain"/>
              </attachments>
              <steps>
                <step start="1533564518178" status="passed" stop="1533564518923">
                  <name>截图操作</name>
                  <title>截图操作</title>
                  <attachments>
                    <attachment source="3bdd8a47-e2bf-4581-864b-214612059b9b-attachment.txt" title="图片名字" type="text/plain"/>
                  </attachments>
                  <steps/>
                </step>
              </steps>
            </step>
            <step start="1533564523250" status="passed" stop="1533564525601">
              <name>向上滑动</name>
              <title>向上滑动</title>
              <attachments/>
              <steps/>
            </step>
            <step start="1533564525601" status="failed" stop="1533564541356">
              <name>点击退出当前账号按钮</name>
              <title>点击退出当前账号按钮</title>
              <attachments/>
              <steps>
                <step start="1533564525601" status="failed" stop="1533564541356">
                  <name>点击操作</name>
                  <title>点击操作</title>
                  <attachments/>
                  <steps/>
                </step>
              </steps>
            </step>
            <step start="1533564541356" status="passed" stop="1533564542411">
              <name>截图操作</name>
              <title>截图操作</title>
              <attachments>
                <attachment source="9bc2ae85-6fa3-4cd2-8169-67fad76fe7de-attachment.txt" title="图片名字" type="text/plain"/>
              </attachments>
              <steps/>
            </step>
            <step start="1533564542411" status="failed" stop="1533564558466">
              <name>点击返回按钮</name>
              <title>点击返回按钮</title>
              <attachments/>
              <steps>
                <step start="1533564542411" status="failed" stop="1533564558466">
                  <name>点击操作</name>
                  <title>点击操作</title>
                  <attachments/>
                  <steps/>
                </step>
              </steps>
            </step>
            <step start="1533564558466" status="passed" stop="1533564566480">
              <name>断言页面是否成功跳转</name>
              <title>断言页面是否成功跳转</title>
              <attachments>
                <attachment source="6758e87e-c15a-4a2c-97e5-411270783462-attachment.txt" title="状态" type="text/plain"/>
                <attachment source="435c5435-cbfe-4f82-988c-2b2a0fa8032f-attachment.txt" title="页面元素_(text_list)" type="text/plain"/>
              </attachments>
              <steps>
                <step start="1533564562073" status="passed" stop="1533564562819">
                  <name>截图操作</name>
                  <title>截图操作</title>
                  <attachments>
                    <attachment source="2fdff8db-c819-44fd-a377-0f7b4e84cf27-attachment.txt" title="图片名字" type="text/plain"/>
                  </attachments>
                  <steps/>
                </step>
              </steps>
            </step>
          </steps>
        </step>
      </steps>
    </test-case>
    <test-case start="1533564566799" status="failed" stop="1533564582826">
      <name>Test_Login.test_register[test_login_002-131986907288-aaa123456-\u8f93\u5165\u8d26\u53f7-\u8f93\u5165\u5bc6\u7801-\u9519\u8bef-\u7528\u6237\u540d\u6216\u5bc6\u7801\u9519\u8bef-\u9a6c\u4e0a\u767b\u5f55-None-None-None-None]</name>
      <failure>
        <message>TimeoutException: Message: 
</message>
        <stack-trace>self = &lt;test_use_case.test_use_case_register.Test_Login object at 0x00FB3E90&gt;
case_name = 'test_login_002', accounts = '131986907288', password = 'aaa123456'
category_1 = '输入账号', category_2 = '输入密码', get_news = '错误'
try_accounts = '用户名或密码错误', dim = '马上登录', tag = None, quit_succeed = None
get_quit = None, close = None

    @allure.step(title='登录功能的正确性验证')
    @pytest.mark.parametrize('case_name,accounts,password,category_1,category_2,get_news,try_accounts,dim,tag,quit_succeed,get_quit,close',get_data())
    def test_register(self, case_name, accounts, password, category_1, category_2, get_news, try_accounts,dim, tag, quit_succeed,get_quit,close):
        allure.attach("用例编号", "{}".format(case_name))
        # 点击马上登录按钮
        self.Dv.return_register_page().clcik_immediately_register()
        # 输入账号、密码
&gt;       self.Dv.return_register_page().send_keys_accpounts_password_1(accounts, password, category_1, category_2)

test_use_case\test_use_case_register.py:32: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _
c:\users\联想\appdata\local\programs\python\python36-32\lib\site-packages\allure\common.py:62: in impl
    return func(*a, **kw)
Page\operation_method.py:122: in send_keys_accpounts_password_1
    self.send_keys_text(Page.register_acctount,accounts,category_1)
c:\users\联想\appdata\local\programs\python\python36-32\lib\site-packages\allure\common.py:62: in impl
    return func(*a, **kw)
Base\Base.py:23: in send_keys_text
    input_box = self.find_element(loc)
Base\Base.py:12: in find_element
    return WebDriverWait(self.driver, timeout, poll).until(lambda x: x.find_element(*loc))
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _

self = &lt;selenium.webdriver.support.wait.WebDriverWait (session="1f6decea-1071-4190-862e-8d015db1d52f")&gt;
method = &lt;function Base.find_element.&lt;locals&gt;.&lt;lambda&gt; at 0x00FBC930&gt;
message = ''

    def until(self, method, message=''):
        """Calls the method provided with the driver as an argument until the \
            return value is not False."""
        screen = None
        stacktrace = None
    
        end_time = time.time() + self._timeout
        while True:
            try:
                value = method(self._driver)
                if value:
                    return value
            except self._ignored_exceptions as exc:
                screen = getattr(exc, 'screen', None)
                stacktrace = getattr(exc, 'stacktrace', None)
            time.sleep(self._poll)
            if time.time() &gt; end_time:
                break
&gt;       raise TimeoutException(message, screen, stacktrace)
E       selenium.common.exceptions.TimeoutException: Message:

c:\users\联想\appdata\local\programs\python\python36-32\lib\site-packages\selenium\webdriver\support\wait.py:80: TimeoutException</stack-trace>
      </failure>
      <attachments/>
      <labels>
        <label name="severity" value="normal"/>
        <label name="thread" value="15184-MainThread"/>
        <label name="host" value="DESKTOP-2H2UE1B"/>
        <label name="framework" value="pytest"/>
        <label name="language" value="cpython3"/>
      </labels>
      <steps>
        <step start="1533564566804" status="failed" stop="1533564582766">
          <name>登录功能的正确性验证</name>
          <title>登录功能的正确性验证</title>
          <attachments>
            <attachment source="bb5ef6a9-210c-49b1-909d-3503035fe312-attachment.txt" title="用例编号" type="text/plain"/>
          </attachments>
          <steps>
            <step start="1533564566804" status="passed" stop="1533564566891">
              <name>点击马上登录</name>
              <title>点击马上登录</title>
              <attachments/>
              <steps>
                <step start="1533564566804" status="passed" stop="1533564566891">
                  <name>点击操作</name>
                  <title>点击操作</title>
                  <attachments/>
                  <steps/>
                </step>
              </steps>
            </step>
            <step start="1533564566891" status="failed" stop="1533564582766">
              <name>输入账号、输入密码</name>
              <title>输入账号、输入密码</title>
              <attachments/>
              <steps>
                <step start="1533564566891" status="failed" stop="1533564582766">
                  <name>输入操作</name>
                  <title>输入操作</title>
                  <attachments/>
                  <steps/>
                </step>
              </steps>
            </step>
          </steps>
        </step>
      </steps>
    </test-case>
  </test-cases>
</ns0:test-suite>
